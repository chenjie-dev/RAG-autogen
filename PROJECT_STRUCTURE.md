# 项目结构说明
==================

## 📁 目录结构概览

```
RAG-autogen/
├── 🚀 启动和配置文件
│   ├── start.py                    # 统一启动脚本
│   ├── start_web_ui.py            # Web UI独立启动脚本
│   ├── ollama_py_test.py          # Ollama API测试脚本
│   ├── docker-compose.yml         # Docker服务配置
│   ├── requirements.txt           # Python依赖包列表
│   └── .gitignore                 # Git忽略文件配置
│
├── 📖 文档文件
│   ├── README.md                  # 项目主说明文档
│   ├── README_WEB_UI.md          # Web UI使用指南
│   └── PROJECT_STRUCTURE.md      # 本文档
│
├── ⚙️ 配置目录
│   └── config/
│       └── settings.py            # 系统配置文件
│
├── 📁 源代码目录
│   └── src/
│       ├── core/                  # 核心模块
│       ├── web/                   # Web模块
│       ├── processors/            # 处理器模块
│       └── utils/                 # 工具模块
│
├── 🎨 界面资源
│   ├── templates/                 # HTML模板
│   └── static/                    # 静态资源(CSS/JS/图片)
│
├── 💾 数据目录
│   ├── data/                      # 应用数据
│   ├── uploads/                   # 上传文件(旧目录)
│   ├── volumes/                   # Docker数据卷
│   └── logs/                      # 日志文件
│
└── 🧪 测试目录
    └── tests/                     # 测试文件
```

## 📄 文件详细说明

### 🚀 启动和配置文件

#### `start.py` - 统一启动脚本
- **功能**: 系统的主要入口点，提供统一的启动接口
- **支持模式**: 命令行模式、Web UI模式、状态检查
- **使用方法**: `python3 start.py [mode] [options]`
- **特点**: 自动检查依赖和服务状态，提供友好的错误提示

#### `start_web_ui.py` - Web UI独立启动脚本
- **功能**: 专门用于启动Web界面服务
- **状态**: 已被start.py统一管理，保留用于独立测试
- **建议**: 使用`start.py web`替代此脚本

#### `ollama_py_test.py` - Ollama API测试脚本
- **功能**: 测试Ollama服务连接和模型可用性
- **用途**: 系统部署前的连接验证
- **测试内容**: API连接、模型列表、文本生成

#### `docker-compose.yml` - Docker服务配置
- **功能**: 定义和启动向量数据库基础设施
- **包含服务**: Milvus、MinIO、etcd
- **使用方法**: `docker-compose up -d`
- **数据持久化**: 数据存储在`./volumes/`目录

#### `requirements.txt` - Python依赖包列表
- **功能**: 列出所有必需的Python包及其版本
- **分类**: 核心框架、AI/ML、文档处理、工具库
- **安装**: `pip3 install -r requirements.txt`

#### `.gitignore` - Git忽略文件配置
- **功能**: 指定Git版本控制忽略的文件和目录
- **包含**: Python缓存、虚拟环境、日志、数据文件等

### 📖 文档文件

#### `README.md` - 项目主说明文档
- **内容**: 项目介绍、快速启动、功能特性、使用方法
- **目标用户**: 所有用户和开发者
- **更新**: 随项目功能变化而更新

#### `README_WEB_UI.md` - Web UI使用指南
- **内容**: Web界面的详细使用说明
- **目标用户**: Web界面用户
- **包含**: 界面介绍、操作步骤、功能说明

#### `PROJECT_STRUCTURE.md` - 项目结构说明
- **内容**: 本文档，详细说明项目结构和文件用途
- **目标用户**: 开发者、维护者
- **作用**: 帮助理解项目组织方式

### ⚙️ 配置目录

#### `config/settings.py` - 系统配置文件
- **功能**: 集中管理所有系统配置参数
- **包含**: 数据库连接、API配置、处理参数等
- **特点**: 支持环境变量覆盖，便于部署配置

### 📁 源代码目录

#### `src/` - 源代码根目录
- **组织方式**: 按功能模块分类
- **包结构**: 每个子目录都是Python包，包含`__init__.py`

#### `src/core/` - 核心模块
- **功能**: RAG系统的核心逻辑
- **文件**: `rag_finance_qa.py` - 主要的RAG实现

#### `src/web/` - Web模块
- **功能**: Web界面相关代码
- **文件**: `web_ui.py` - Flask应用和路由定义

#### `src/processors/` - 处理器模块
- **功能**: 文档处理和文本提取
- **文件**: `document_processor.py` - 多格式文档处理器

#### `src/utils/` - 工具模块
- **功能**: 通用工具函数和辅助类
- **文件**:
  - `text_utils.py` - 文本处理工具
  - `vector_store.py` - 向量数据库操作
  - `ui_utils.py` - UI相关工具函数

### 🎨 界面资源

#### `templates/` - HTML模板目录
- **功能**: 存放Flask应用的HTML模板
- **文件**: `index.html` - 主要的Web界面模板

#### `static/` - 静态资源目录
- **功能**: 存放CSS、JavaScript、图片等静态文件
- **结构**: 按文件类型分类(css/js/img)

### 💾 数据目录

#### `data/` - 应用数据目录
- **功能**: 存放应用运行时产生的数据
- **子目录**:
  - `uploads/` - 用户上传的文件
  - `exports/` - 导出的数据文件

#### `uploads/` - 上传文件目录(旧)
- **状态**: 旧的上传目录，建议迁移到`data/uploads/`
- **功能**: 临时存储用户上传的文档

#### `volumes/` - Docker数据卷
- **功能**: Docker容器的数据持久化存储
- **内容**: Milvus、MinIO、etcd的数据文件

#### `logs/` - 日志目录
- **功能**: 存放系统运行日志
- **特点**: 按日期或服务分类存储

### 🧪 测试目录

#### `tests/` - 测试文件目录
- **功能**: 存放单元测试和集成测试
- **状态**: 待开发，目前为空目录
- **计划**: 添加自动化测试用例

## 🔄 开发建议

### 添加新功能
1. 在相应的模块目录中添加代码
2. 更新配置文件(`config/settings.py`)
3. 添加测试用例(`tests/`)
4. 更新相关文档

### 文件命名规范
- Python文件: 小写字母，下划线分隔
- 目录名: 小写字母，下划线分隔
- 配置文件: 小写字母，下划线分隔
- 文档文件: 大写字母，下划线分隔

### 代码组织原则
- 按功能模块分类
- 保持模块间的低耦合
- 使用清晰的导入路径
- 添加适当的文档注释

## 📝 维护说明

### 定期维护
- 更新依赖包版本
- 清理日志文件
- 备份重要数据
- 检查服务状态

### 版本控制
- 使用语义化版本号
- 记录重要的变更
- 保持文档同步更新
- 定期创建发布标签 